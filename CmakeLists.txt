cmake_minimum_required(VERSION 3.10)
project(SDLGame LANGUAGES C CXX)

# Make sure CMake uses C++17 (optional)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Find SDL2
find_package(SDL2 REQUIRED)
find_package(SDL2_image REQUIRED)

set(CMAKE_EXE_LINKER_FLAGS "-static -static-libgcc -static-libstdc++")

# Executable
add_executable(hello
    main.cpp
    game.cpp
    level.cpp
    player.cpp
    animations/AnimationHandler.cpp
    entities/Entity.cpp
    entities/Enemy.cpp
    entities/EntityFactory.cpp
    entities/Fireball.cpp
    entities/SpriteFactory.cpp
    animations/Animations.cpp
    UserInterface.cpp
    Sprite.cpp
    Utils.cpp
)

# Include resources
target_include_directories(hello PRIVATE "${CMAKE_SOURCE_DIR}/res")

# Link SDL libraries
target_link_libraries(hello PRIVATE SDL2::SDL2 SDL2_image::SDL2_image)

# Handle SDL main
add_definitions(-DSDL_MAIN_HANDLED)
